<!DOCTYPE html>
<html xmlns:th="http://www.thymleaf.org">
<head>
	<title>Ubah Pegawai</title>
	<object th:include="fragments/fragment :: css" th:remove="tag"></object>
	<object th:include="fragments/fragment :: js" th:remove="tag"></object>
	<script th:inline="javascript">
		var listProvinsi = /*[[${listProvinsi}]]*/;
		var listInstansi = /*[[${listInstansi}]]*/;
		console.log('test');
	</script>
	<script>
		console.log('ulololo');
	</script>
</head>

<body>
	<nav th:replace="fragments/fragment :: navbar"></nav>
	<div class=" container container-fluid" th:object="${pegawai}">
		<h3 th:text="'Tambah Pegawai'"> </h3>
		<form th:action="@{/pegawai/tambah/}" th:object="${pegawai}" id="formPegawai" method="post">
			<table class="table table-borderless">
				<tbody>
					<tr>
						<td>Nama</td>
						<td>
							<input class="form-control" type="text" name="nama" required="required" th:value="*{nama}"/>
						</td>
					</tr>
					<tr>
						<td>Tempat Lahir</td>
						<td>
							<input class="form-control" type="text" name="tempatLahir" required="required" th:value="*{tempatLahir}"/>
						</td>
					</tr>
					<tr>
						<td>Tanggal Lahir</td>
						<td>
							<input class="form-control" type="date" name="tanggalLahir" required="required" th:value="*{tanggalLahir}"/>
						</td>
					</tr>
					<tr>
						<td>Tahun Masuk</td>
						<td>
							<input class="form-control" type="text" name="tahunMasuk" required="required" th:value="*{tahunMasuk}"/>
						</td>
					</tr>
					<tr>
						<td>Provinsi</td>
						<td>
							<div class= "form-group">
								<select id="provinsi" name="provinsi" class="form-control">
									<option value="">Pilih Provinsi</option>
									<div th:each="p, iterationStat : ${listProvinsi}">
										<option th:text="${p.nama}" th:value="${p.id}"></option>
									</div>
								</select>
							</div>						
							
						</td>
					</tr>
					<tr>
						<td>Nama Instansi</td>
						<td>
							<div class= "form-group">
								<select name="instansiPegawai" class="form-control" id="selectInstansi">
									<option value="">Pilih Instansi</option>
									
								</select>
							</div>
						</td> 
					</tr>
					<tr>
						<td>Jabatan</td>
						<td>
							<div th:each="jabatan, iterStat : *{jabatanPegawai}">
								<select class="form-control" name="jabatanPegawai">
									<option th:each="j : ${listJabatan}" th:field="*{jabatanPegawai[__${iterStat.index}__]}" th:value="${j.id}" th:text="${j.nama}"></option>
								</select>
								<button type="submit" name="add" class="btn btn-primary">tambah jabatan</button>
								<button type="submit" name="delete" class="btn" th:value="${iterStat.index}" th:style="${iterStat.count} == 1 ? 'display:none' : '' ">hapus jabatan</button>
							</div>
						</td>
					</tr>
					
				</tbody>
			</table>
			
			<button class="btn btn-primary btn-lg" type="submit">Ubah</button>
		</form>
	</div>
</body>
</html>